
<div class="cds-notes-content"
    #noteContentElement
    [class.selected]="stateNote === 2"
    [class.text-focus]="stateNote === 1"
    [class.tds_draggable]="isDraggable"
    [id]="note?.note_id"
    [style.box-shadow]="note?.boxShadow === false ? 'none' : null"
    [style.border-color]="note?.borderColor"
    [style.background-color]="note?.backgroundColor">
    <!-- (input)="onInputChange($event)" -->
    <div 
        #noteInput
        class="note-input"
        [class.tds_draggable]="isDraggable"
        [class.text-focus]="stateNote === 1"
        [style.z-index]="stateNote === 1 ? 3 : 1"
        contenteditable="true"
        [innerHTML]="sanitizedNoteHtml"
        [style.font-size]="note?.fontSize"
        [style.font-family]="note?.fontFamily"
        (focus)="onFocusTextarea($event)"
        (input)="onInputChange($event)"
        (blur)="onBlurTextarea($event)"
        (click)="onNoteInputClick($event)"
        (dblclick)="onNoteInputDoubleClick($event)"
        (mousedown)="onNoteInputMouseDown($event)"
        spellcheck="false">
    </div>

    <!-- Div giallo per menu contestuale -->
    <div 
        class="context-menu-overlay"
        [class.text-focus]="stateNote === 1"
        (click)="onNoteInputClick($event)"
        (dblclick)="onNoteInputDoubleClick($event)">
    </div>

    <!-- Handle angoli per ridimensionamento -->
    <div class="resize-handle resize-tl" 
        (mousedown)="startResize($event, 'tl')"></div>
    <div class="resize-handle resize-tr" 
        (mousedown)="startResize($event, 'tr')"></div>
    <div class="resize-handle resize-bl" 
        (mousedown)="startResize($event, 'bl')"></div>
    <div class="resize-handle resize-br" 
        (mousedown)="startResize($event, 'br')"></div>

</div>

