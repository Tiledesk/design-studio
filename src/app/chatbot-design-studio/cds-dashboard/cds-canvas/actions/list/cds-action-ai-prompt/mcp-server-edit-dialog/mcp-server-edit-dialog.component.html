<div class="tpl-modal-box">
    <div class="tpl-modal-header">
        <div class="tpl-modal-header-text">
            <span>{{ isNewServer ? 'Aggiungi Server MCP' : 'Modifica Server MCP' }}</span>
        </div>
        <i text-color="light" class="material-icons cds-close-btn-icon" [mat-dialog-close]="false">close</i>
    </div>
    
    <hr class="custom-hr" style="margin-top:3px; margin-bottom:3px">
    
    <div class="tpl-modal-content">
        <form class="edit-form">
            <!-- Nome -->
            <div class="form-field">
                <label class="field-label">Nome</label>
                <cds-text 
                    [text]="editedServer.name"
                    [placeholder]="'Inserisci il nome del server'"
                    (onChange)="onChangeField($event, 'name')">
                </cds-text>
            </div>

            <!-- URL -->
            <div class="form-field">
                <label class="field-label">URL</label>
                <cds-text 
                    [text]="editedServer.url"
                    [placeholder]="'Inserisci l\'URL del server'"
                    (onChange)="onChangeField($event, 'url')">
                </cds-text>
            </div>

            <!-- Transport Type (Read-only) -->
            <div class="form-field">
                <label class="field-label">Type</label>
                <div class="readonly-field">
                    {{ editedServer.transport }}
                </div>
                <span class="field-hint">Il campo Type non Ã¨ modificabile</span>
            </div>
        </form>
    </div>

    <div class="tpl-modal-buttons">
        <button id="cds-cancel-btn" class="btn btn-primary cds-blue-button" type="button" 
            [mat-dialog-close]="false"
            [disabled]="isSaving">
            Annulla
        </button>
        <button id="cds-save-btn" class="btn btn-primary cds-blue-button" type="button" 
            [disabled]="!isFormValid() || isSaving"
            (click)="onSave()">
            <span *ngIf="!isSaving">Salva</span>
            <span *ngIf="isSaving" style="display: flex; align-items: center; gap: 8px;">
                <span class="spinner"></span>
                Salvataggio...
            </span>
        </button>
    </div>
</div>

